<div class="login-container">
  <!-- Header -->
  <div class="login-header">
    <div class="header-content">
      <div class="app-logo">
        <span>●</span>
      </div>
      <div class="header-info">
        <h3>{{ currentView === 'login' ? 'Iniciar Sesión' :
          currentView === 'register' ? 'Crear Cuenta' :
          currentView === 'forgot-password' ? 'Recuperar Contraseña' :
          currentView === 'success' ? 'Bienvenido' : 'Cargando...' }}</h3>
        <span class="subtitle" *ngIf="currentView === 'login'">Accede a tu cuenta</span>
        <span class="subtitle" *ngIf="currentView === 'register'">Únete a nosotros</span>
        <span class="subtitle" *ngIf="currentView === 'forgot-password'">Te ayudamos a recuperar tu acceso</span>
      </div>
    </div>
  </div>

  <!-- Contenido Principal -->
  <div class="login-content">

    <!-- Vista de Login -->
    <div *ngIf="currentView === 'login'" class="auth-form">

      <!-- Botón de Google -->
      <button class="google-button" (click)="loginWithGoogle()" [disabled]="isLoading">
        <div class="google-icon">
          <svg width="18" height="18" viewBox="0 0 18 18">
            <path fill="#4285F4"
              d="M16.51 8H8.98v3h4.3c-.18 1-.74 1.48-1.6 2.04v2.01h2.6a7.8 7.8 0 0 0 2.38-5.88c0-.57-.05-.66-.15-1.18z" />
            <path fill="#34A853"
              d="M8.98 17c2.16 0 3.97-.72 5.3-1.94l-2.6-2.04a4.8 4.8 0 0 1-2.7.75 4.8 4.8 0 0 1-4.52-3.36H1.83v2.07A8 8 0 0 0 8.98 17z" />
            <path fill="#FBBC05"
              d="M4.46 10.41a4.8 4.8 0 0 1-.25-1.41c0-.49.09-.97.25-1.41V5.52H1.83a8 8 0 0 0 0 7.17l2.63-2.28z" />
            <path fill="#EA4335"
              d="M8.98 4.23c1.17 0 2.23.4 3.06 1.2l2.3-2.3A8 8 0 0 0 8.98 1a8 8 0 0 0-7.15 4.52l2.63 2.28c.61-1.85 2.35-3.57 4.52-3.57z" />
          </svg>
        </div>
        <span>Continuar con Google</span>
      </button>

      <!-- Separador -->
      <div class="divider">
        <span>o</span>
      </div>

      <!-- Formulario de Email -->
      <form class="email-form" (ngSubmit)="loginWithEmail()">
        <div class="form-group">
          <label>Email</label>
          <input type="email" [(ngModel)]="loginForm.email" name="email" placeholder="tu@email.com"
            [disabled]="isLoading" required>
        </div>

        <div class="form-group">
          <label>Contraseña</label>
          <div class="password-input">
            <input [type]="showPassword ? 'text' : 'password'" [(ngModel)]="loginForm.password" name="password"
              placeholder="Tu contraseña" [disabled]="isLoading" required>
            <button type="button" class="password-toggle" (click)="togglePasswordVisibility()">
              <span>{{ showPassword ? '👁️' : '👁️‍🗨️' }}</span>
            </button>
          </div>
        </div>

        <button type="button" class="forgot-password-link" (click)="switchToForgotPassword()">
          ¿Olvidaste tu contraseña?
        </button>

        <button type="submit" class="primary-button" [disabled]="isLoading">
          <span *ngIf="!isLoading">Iniciar Sesión</span>
          <div *ngIf="isLoading" class="loading-spinner"></div>
        </button>
      </form>

      <!-- Link a Registro -->
      <div class="auth-switch">
        <span>¿No tienes cuenta? </span>
        <button type="button" (click)="switchToRegister()">Regístrate</button>
      </div>
    </div>

    <!-- Vista de Registro -->
    <div *ngIf="currentView === 'register'" class="auth-form">

      <!-- Botón de Google -->
      <button class="google-button" (click)="loginWithGoogle()" [disabled]="isLoading">
        <div class="google-icon">
          <svg width="18" height="18" viewBox="0 0 18 18">
            <path fill="#4285F4"
              d="M16.51 8H8.98v3h4.3c-.18 1-.74 1.48-1.6 2.04v2.01h2.6a7.8 7.8 0 0 0 2.38-5.88c0-.57-.05-.66-.15-1.18z" />
            <path fill="#34A853"
              d="M8.98 17c2.16 0 3.97-.72 5.3-1.94l-2.6-2.04a4.8 4.8 0 0 1-2.7.75 4.8 4.8 0 0 1-4.52-3.36H1.83v2.07A8 8 0 0 0 8.98 17z" />
            <path fill="#FBBC05"
              d="M4.46 10.41a4.8 4.8 0 0 1-.25-1.41c0-.49.09-.97.25-1.41V5.52H1.83a8 8 0 0 0 0 7.17l2.63-2.28z" />
            <path fill="#EA4335"
              d="M8.98 4.23c1.17 0 2.23.4 3.06 1.2l2.3-2.3A8 8 0 0 0 8.98 1a8 8 0 0 0-7.15 4.52l2.63 2.28c.61-1.85 2.35-3.57 4.52-3.57z" />
          </svg>
        </div>
        <span>Registrarse con Google</span>
      </button>

      <!-- Separador -->
      <div class="divider">
        <span>o</span>
      </div>

      <!-- Formulario de Registro -->
      <form class="email-form" (ngSubmit)="registerAccount()">
        <div class="form-group">
          <label>Nombre</label>
          <input type="text" [(ngModel)]="registerForm.firstName" name="firstName" placeholder="Nombre"
            [disabled]="isLoading" required>
        </div>
        <div class="form-group">
          <label>Apellido</label>
          <input type="text" [(ngModel)]="registerForm.lastName" name="lastName" placeholder="Apellido"
            [disabled]="isLoading" required>
        </div>

        <div class="form-group">
          <label>Email</label>
          <input type="email" [(ngModel)]="registerForm.email" name="registerEmail" placeholder="tu@email.com"
            [disabled]="isLoading" required>
        </div>

        <div class="form-group">
          <label>Contraseña</label>
          <div class="password-input">
            <input [type]="showPassword ? 'text' : 'password'" [(ngModel)]="registerForm.password"
              name="registerPassword" placeholder="Mínimo 6 caracteres" [disabled]="isLoading" required>
            <button type="button" class="password-toggle" (click)="togglePasswordVisibility()">
              <span>{{ showPassword ? '👁️' : '👁️‍🗨️' }}</span>
            </button>
          </div>
        </div>

        <div class="form-group">
          <label>Confirmar Contraseña</label>
          <input [type]="showPassword ? 'text' : 'password'" [(ngModel)]="registerForm.confirmPassword"
            name="confirmPassword" placeholder="Repite tu contraseña" [disabled]="isLoading" required>
        </div>

        <button type="submit" class="primary-button" [disabled]="isLoading">
          <span *ngIf="!isLoading">Crear Cuenta</span>
          <div *ngIf="isLoading" class="loading-spinner"></div>
        </button>
      </form>

      <!-- Link a Login -->
      <div class="auth-switch">
        <span>¿Ya tienes cuenta? </span>
        <button type="button" (click)="switchToLogin()">Inicia sesión</button>
      </div>
    </div>

    <!-- Vista de Recuperar Contraseña -->
    <div *ngIf="currentView === 'forgot-password'" class="auth-form">
      <div class="forgot-password-info">
        <p>Ingresa tu email y te enviaremos un enlace para restablecer tu contraseña.</p>
      </div>

      <form class="email-form" (ngSubmit)="sendPasswordReset()">
        <div class="form-group">
          <label>Email</label>
          <input type="email" [(ngModel)]="forgotPasswordEmail" name="forgotEmail" placeholder="tu@email.com"
            [disabled]="isLoading" required>
        </div>

        <button type="submit" class="primary-button" [disabled]="isLoading">
          <span *ngIf="!isLoading">Enviar Enlace</span>
          <div *ngIf="isLoading" class="loading-spinner"></div>
        </button>
      </form>

      <!-- Link a Login -->
      <div class="auth-switch">
        <span>¿Recordaste tu contraseña? </span>
        <button type="button" (click)="switchToLogin()">Inicia sesión</button>
      </div>
    </div>

    <!-- Vista de Éxito -->
    <div *ngIf="currentView === 'success'" class="success-view">
      <div class="success-content">
        <div class="success-icon">✓</div>
        <h4>¡Bienvenido!</h4>
        <p>Has iniciado sesión correctamente</p>

        <div class="user-info">
          <div class="user-avatar">
            <span>U</span>
          </div>
          <div class="user-details">
            <h5>Usuario Demo</h5>
            <p>demoexample.com</p>
          </div>
        </div>

        <button class="primary-button" (click)="startOver()">
          Cerrar Sesión
        </button>
      </div>
    </div>

    <!-- Mensaje de Error -->
    <div *ngIf="errorMessage" class="error-message">
      <span>{{ errorMessage }}</span>
    </div>

    <!-- Información de Demo -->
    <div class="demo-info" *ngIf="currentView === 'login'">
      <h5>Cuenta de Demo:</h5>
      <p><strong>Email:</strong> demoexample.com</p>
      <p><strong>Contraseña:</strong> 123456</p>
    </div>
  </div>
</div>